<div class="card rounded border-warning shadow animate__animated animate__fadeIn" ng-if="setting.viewOption === 'list'"><div class="card-header border-top border-warning rounded-top bg-light py-3 d-flex align-items-center justify-content-center sticky-md-top h-100" style="top: 7.2rem;"><h5 class="card-title m-0 text-primary" translate>courseList</h5><span class="ms-auto"><button ng-click="addNewCourse()" class="btn btn-primary text-warning"><i class="mdi mdi-plus-thick me-2"></i><l translate="course"></l></button></span></div><div class="card-body"><div class="row justify-content-center" ng-if="allCourses.length === 0"><i class="mdi mdi-cloud-question text-dark text-center display-2 me-2 col-md-12" style="opacity: 0.1;"></i><p class="col-md-6 text-center text-muted fst-italic" translate>noCourseData</p></div><div class="table-responsive" ng-if="allCourses.length > 0"><table class="table table-borderless table-striped"><thead><tr><th scope="col" width="60"></th><th scope="col" translate>courseTitle</th><th scope="col" class="text-center" translate>lessons</th><th scope="col" width="70" class="text-center" translate>published</th><th scope="col" width="35" class="text-center"></th></tr></thead><tbody><tr ng-repeat="c in allCourses | orderBy: 'id': true"><td scope="row"><img class="data-img rounded" ng-src="{{'repo/thumbs/' + c.id + '.jpg'}}" on-error-src="resources/images/imgnotavailable.jpg"></td><td><div class="d-flex flex-column"><div><small ng-click="editCourse(c, 2)" class="fw-bold text-primary text-wrap" ng-bind-html="c.courseTitle"></small></div><div><small ng-click="editCourse(c, 2)" class="fw-bold text-wrap" dir="rtl" ng-bind-html="c.courseTitleAe"></small></div><div><small class="text-muted badge bg-transparent fst-italic px-0">{{convertDateTimeToCurrent(c.dateCreated)}}</small></div></div></td><td class="text-center align-middle"><button type="button" ng-click="editCourse(c, 2)" class="btn btn-link text-primary p-0 shadow-none">{{c.lessons.length}}</button></td><td class="text-center align-middle"><h5 class="form-check form-switch d-flex justify-content-center m-0"><input class="form-check-input" type="checkbox" ng-click="" id="flexSwitchCheckChecked" ng-model="c.isPublished"></h5></td><td class="text-center align-middle"><a href="#" ng-click="editCourse(c)" class="btn btn-link text-primary p-0 shadow-none"><i class="mdi mdi-wrench mdi-24px"></i></a></td></tr></tbody></table></div></div></div><div class="card rounded border-warning shadow animate__animated animate__fadeIn" ng-if="setting.viewOption === 'form'"><div class="card-header border-top border-warning rounded-top bg-light sticky-md-top h-100 p-0" style="top: 7.2rem;"><div class="p-3 d-flex align-items-center"><span class="me-2"><button ng-click="backToList()" class="btn btn-primary text-warning"><i class="mdi mdi-chevron-double-{{lang === 'ae'?'right':'left'}} me-2"></i><l translate="back"></l></button></span><h5 class="card-title m-0 text-primary" translate>courseForm</h5></div><ul class="nav nav-tabs bg-light-50"><li class="nav-item" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 0}" ng-click="selectTab(0)"><a href="#" class="nav-link text-primary text-center" translate>basic</a></li><li class="nav-item" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 1}" ng-click="selectTab(1)"><a href="#" class="nav-link text-primary text-center" translate>objectives</a></li><li class="nav-item" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 2}" ng-click="selectTab(2)"><a href="#" class="nav-link text-primary text-center" translate>lesson</a></li><li class="nav-item" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 3}" ng-click="selectTab(3)"><a href="#" class="nav-link text-primary text-center" translate>brand</a></li><li class="nav-item d-none d-lg-block" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 4}" ng-click="selectTab(4)"><a href="#" class="nav-link text-primary text-center" translate>attendees</a></li><li class="nav-item d-none d-lg-block" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 5}" ng-click="selectTab(5)"><a href="#" class="nav-link text-primary text-center" translate>prerequisites</a></li><li class="nav-item d-block d-lg-none dropdown"><a href="#" class="nav-link text-primary fw-bold text-center px-0" data-bs-toggle="dropdown" aria-expanded="false"><i class="mdi mdi-dots-vertical mdi-18px" style="line-height: 23px;"></i></a><ul class="dropdown-menu"><li><a class="dropdown-item text-primary" href="#" translate ng-click="selectTab(4)" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 4}">attendees</a></li><li><a class="dropdown-item text-primary" href="#" translate ng-click="selectTab(5)" ng-class="{'bg-warning-50 fw-bold':setting.selectedTab === 5}">prerequisites</a></li></ul></li></ul></div><!--Basic--><div class="card-body" data-container="basic" style="min-height: 300px;" ng-if="setting.selectedTab === 0"><div class="row"><div class="col-md-6 order-1 order-md-0"><div class="form-floating my-3"><input class="form-control rounded" type="text" ng-model="formData.courseTitle" placeholder="{{translateMe('courseTitle')}}"> <label translate>courseTitle</label></div><div class="form-floating my-3"><input class="form-control rounded" type="text" dir="rtl" ng-model="formData.courseTitleAe" placeholder="{{translateMe('courseTitleAe')}}"> <label translate>courseTitleAe</label></div><div class="form-floating my-3"><textarea class="form-control rounded" ng-model="formData.courseDescription" placeholder="{{translateMe('courseDescription')}}" style="height: 100px;"></textarea> <label translate>courseDescription</label></div></div><div class="col-md-6 order-0 order-md-1"><div class="card course-item rounded my-3 mx-auto mx-md-0" style="width: 15rem;"><img ng-src="{{'repo/thumbs/' + formData.id + '.jpg'}}" class="card-img-top rounded-top" alt="..." on-error-src="resources/images/imgnotavailable.jpg"><div class="card-body text-center rounded-bottom"><button class="btn btn-primary text-warning" translate="upload" type="button"></button></div></div></div><div class="col-md-6 order-2"><div class="form-floating my-3"><textarea class="form-control rounded" dir="rtl" ng-model="formData.courseDescriptionAe" placeholder="{{translateMe('courseDescriptionAe')}}" style="height: 100px;"></textarea> <label translate>courseDescriptionAe</label></div></div><div class="col-lg-4 col-md-6 order-3"><div class="input-group my-3 dropdown"><div class="flex-grow-1 form-floating" data-bs-toggle="dropdown" data-bs-reference="parent"><input type="text" readonly="readonly" class="form-control rounded-0 rounded-start border-end-0 bg-transparent" ng-value="translateMe(formData.brandName,formData.brandNameAe)" placeholder="{{translateMe('brand')}}"> <label translate>brand</label></div><span class="input-group-text bg-transparent rounded-end" data-bs-toggle="dropdown" data-bs-reference="parent"><i class="mdi mdi-menu-down mdi-24px"></i></span><div class="dropdown-menu overflow-auto border-0 shadow" style="max-height: 200px;"><a href="#" class="dropdown-item" ng-click="selectBrand(b)" ng-class="{'active': formData.brandId === b.brandId}" ng-repeat="b in mod.brands | orderBy: 'brandId'">{{translateMe(b.brandName,b.brandNameAe)}}</a></div></div><div class="input-group my-3"><div class="flex-grow-1 form-floating"><input type="number" min="1" max="100" class="form-control rounded-0 rounded-start" ng-model="formData.duration" placeholder="{{translateMe('courseDuration')}}" restrict-to="[0-9]"> <label translate>courseDuration</label></div><span class="input-group-text"><l translate="hour"></l><l ng-if="lang === 'en'">{{formData.duration !== '1' ? 's':''}}</l></span></div></div></div></div><div class="card-footer" ng-if="setting.selectedTab === 0"><button ng-disabled="isBasicOnProcess" type="button" class="btn btn-primary text-warning px-3 mx-1" ng-click="updateBasicCourse()"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isBasicOnProcess"></i><l translate="save"></l></button></div><!--Objectives--><div class="card-body" data-container="objectives" style="min-height: 300px;" ng-if="setting.selectedTab === 1"><div class="row" ng-hide="setting.objectiveOnEdit" ng-if="formData.objectives.length > 0"><div class="col-12"><div class="list-group mb-3"><div class="list-group-item border-secondary-50 rounded-0" ng-repeat="o in formData.objectives | orderBy: 'objectiveId'" ng-class="{'p-0': checkSelItemConfirm(o)}" style="{{checkSelItemConfirm(o) === true ? 'min-height:9rem;':''}}" ng-class-odd="'bg-secondary-50'"><div ng-if="checkSelItemConfirm(o)" class="alert alert-danger d-flex flex-column justify-content-center position-absolute w-100 h-100 rounded-0 m-0 animate__animated animate__fadeIn animate__faster" role="alert"><div class="d-flex mb-2"><i class="mdi mdi-help-circle mdi-24px me-2" style="line-height: 0.6;"></i> <span translate="objectiveDelConfirm"></span></div><div class="d-flex align-items-center"><button type="button" ng-click="changeSelItemConfirm(0)" class="btn btn-secondary px-3 mx-1"><l translate="no"></l></button> <button type="button" ng-click="deleteObjective(o)" class="btn btn-danger px-3 mx-1"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isObjectiveOnProcess"></i><l translate="yes"></l></button></div></div><div class="d-flex w-100"><div class="flex-column"><p class="mb-1" ng-bind-html="o.objective"></p><p class="mb-0" dir="rtl" ng-bind-html="o.objectiveAe"></p></div><div class="ms-auto" style="min-width: 5rem;"><button type="button" ng-click="editObjective(o)" ng-disabled="isObjectiveOnProcess" class="btn btn-link p-0 mx-1 text-primary shadow-none"><i class="mdi mdi-pencil mdi-24px"></i></button> <button type="button" ng-disabled="isObjectiveOnProcess" ng-click="changeSelItemConfirm(o)" class="btn btn-link p-0 mx-1 text-danger shadow-none"><i class="mdi mdi-trash-can mdi-24px"></i></button></div></div></div></div></div></div><div class="row"><div class="col-md-6"><div class="form-floating my-3"><textarea class="form-control rounded" ng-model="formData.courseObjective" placeholder="{{translateMe('courseObjective')}}" style="height: 100px;"></textarea> <label translate>courseObjective</label></div></div><div class="col-md-6"><div class="form-floating my-3"><textarea class="form-control rounded" dir="rtl" ng-model="formData.courseObjectiveAe" placeholder="{{translateMe('courseObjectiveAe')}}" style="height: 100px;"></textarea> <label translate>courseObjectiveAe</label></div></div></div></div><div class="card-footer" ng-if="setting.selectedTab === 1"><button type="button" ng-hide="setting.objectiveOnEdit" ng-disabled="isObjectiveOnProcess" class="btn btn-primary text-warning px-3 mx-1" ng-click="addObjective()"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isObjectiveOnProcess"></i><l translate="add"></l></button> <button type="button" ng-show="setting.objectiveOnEdit" ng-disabled="isObjectiveOnProcess" class="btn btn-secondary px-3 mx-1" ng-click="cancelEditObjective()"><l translate="cancel"></l></button> <button type="button" ng-show="setting.objectiveOnEdit" ng-disabled="isObjectiveOnProcess" class="btn btn-primary text-warning px-3 mx-1" ng-click="updateObjective()"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isObjectiveOnProcess"></i><l translate="save"></l></button></div><!--Lessons--><div class="card-body" data-container="lessons" style="min-height: 300px;" ng-if="setting.selectedTab === 2"><div class="d-flex w-100 mb-3"><button ng-click="addNewLesson()" class="ms-auto btn btn-primary text-warning"><i class="mdi mdi-plus-thick me-2"></i><l translate="lesson"></l></button></div><div class="row justify-content-center" ng-if="formData.lessons.length === 0"><i class="mdi mdi-cloud-question text-dark text-center display-2 me-2 col-md-12" style="opacity: 0.1;"></i><p class="col-md-6 text-center text-muted fst-italic" translate>noLessonData</p></div><div class="table-responsive" ng-if="formData.lessons.length > 0"><table class="table table-borderless table-striped"><thead><tr><th scope="col" width="5"></th><th scope="col" translate>lessonTitle</th><th scope="col" class="text-center" translate>sections</th><th scope="col" width="125" class="text-center"></th></tr></thead><tbody ui-sortable="sortCourseLessons" ui-sortable-stop="sortingCourseLessons" ng-model="formData.lessons"><tr ng-repeat="l in formData.lessons"><td ng-if="checkSelItemConfirm(l)" colspan="4" class="alert alert-danger py-3 rounded-0 align-middle animate__animated animate__fadeIn animate__faster"><div class="d-flex mb-2"><i class="mdi mdi-help-circle mdi-24px me-2" style="line-height: 0.6;"></i> <span translate="lessonDelConfirm"></span></div><div class="d-flex align-items-center"><button type="button" ng-click="changeSelItemConfirm(0)" class="btn btn-secondary px-3 mx-1"><l translate="no"></l></button> <button type="button" ng-click="deleteLesson(l)" class="btn btn-danger px-3 mx-1"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isLessonOnProcess"></i><l translate="yes"></l></button></div></td><td ng-if="!checkSelItemConfirm(l)" scope="row" class="align-middle text-center" ng-class="{'draggable': setting.selItemConfirm.lessonId === undefined}"><small class="badge bg-secondary">{{$index + 1}} </small><i class="mdi mdi-drag-horizontal mdi-24px"></i></td><td ng-if="!checkSelItemConfirm(l)" class="align-middle"><div class="d-flex flex-column"><div><small ng-click="RedirectMe('lessonsOverview', {courseId: formData.hashCode, lessonId: l.hashCode})" class="fw-bold text-primary text-wrap" ng-bind-html="l.lessonTitle"></small></div><div><small ng-click="RedirectMe('lessonsOverview', {courseId: formData.hashCode, lessonId: l.hashCode})" class="fw-bold text-wrap" dir="rtl" ng-bind-html="l.lessonTitleAe"></small></div></div></td><td ng-if="!checkSelItemConfirm(l)" class="text-center align-middle"><button type="button" ng-click="RedirectMe('lessonsOverview', {courseId: formData.hashCode, lessonId: l.hashCode})" class="btn btn-link text-primary p-0 shadow-none">{{l.sections.length}}</button></td><td ng-if="!checkSelItemConfirm(l)" class="text-center align-middle"><button type="button" ng-click="editLesson(l)" class="btn btn-link p-0 text-primary shadow-none"><i class="mdi mdi-pencil mdi-24px"></i></button> <button type="button" ng-disabled="l.sections.length > 0" ng-click="changeSelItemConfirm(l)" class="btn btn-link p-0 text-danger shadow-none"><i class="mdi mdi-trash-can mdi-24px"></i></button> <a href="#" ng-click="RedirectMe('lessonsOverview', {courseId: formData.hashCode, lessonId: l.hashCode})" class="btn btn-link text-primary p-0 shadow-none"><i class="mdi mdi-open-in-new mdi-24px"></i></a></td></tr></tbody></table></div></div></div><div class="modal animate__animated animate__fadeIn animate__faster" id="modNewCourse" tabindex="-1" data-bs-keyboard="false" data-bs-backdrop="static"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" translate>newCourse</h5><button type="button" ng-disabled="isBasicOnProcess" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="form-floating my-3"><input type="text" class="form-control rounded" ng-model="formData.courseTitle" placeholder="{{translateMe('courseTitle')}}"> <label translate>courseTitle</label></div><div class="form-floating my-3"><input type="text" class="form-control rounded" dir="rtl" ng-model="formData.courseTitleAe" placeholder="{{translateMe('courseTitleAe')}}"> <label translate>courseTitleAe</label></div><div class="input-group my-3 dropdown"><div class="flex-grow-1 form-floating" data-bs-toggle="dropdown" data-bs-reference="parent"><input type="text" readonly="readonly" class="form-control rounded-0 rounded-start border-end-0 bg-transparent" ng-value="translateMe(formData.brandName,formData.brandNameAe)" placeholder="{{translateMe('brand')}}"> <label translate>brand</label></div><span class="input-group-text bg-transparent rounded-end" data-bs-toggle="dropdown" data-bs-reference="parent"><i class="mdi mdi-menu-down mdi-24px"></i></span><div class="dropdown-menu overflow-auto border-0 shadow" style="max-height: 200px;"><a href="#" class="dropdown-item" ng-click="selectBrand(b)" ng-class="{'active': formData.brandId === b.brandId}" ng-repeat="b in mod.brands | orderBy: 'brandId'">{{translateMe(b.brandName,b.brandNameAe)}}</a></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-primary text-warning px-3" ng-disabled="isBasicOnProcess" ng-click="saveNewCourse()"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isBasicOnProcess"></i><l translate="save"></l></button></div></div></div></div><div class="modal animate__animated animate__fadeIn animate__faster" id="modNewLesson" tabindex="-1" data-bs-keyboard="false" data-bs-backdrop="static"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" ng-if="formData.lesson.lessonId === undefined" translate>newLesson</h5><h5 class="modal-title" ng-if="formData.lesson.lessonId !== undefined" translate>editLesson</h5><button type="button" ng-disabled="isLessonOnProcess" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="form-floating my-3"><input type="text" class="form-control rounded" ng-model="formData.lesson.lessonTitle" placeholder="{{translateMe('lessonTitle')}}"> <label translate>lessonTitle</label></div><div class="form-floating my-3"><input type="text" class="form-control rounded" dir="rtl" ng-model="formData.lesson.lessonTitleAe" placeholder="{{translateMe('lessonTitleAe')}}"> <label translate>lessonTitleAe</label></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-primary text-warning px-3" ng-disabled="isLessonOnProcess" ng-click="saveNewLesson()"><i class="mdi mdi-spin mdi-loading me-1" ng-if="isLessonOnProcess"></i><l translate="save"></l></button></div></div></div></div>